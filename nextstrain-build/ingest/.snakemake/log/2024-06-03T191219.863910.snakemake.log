Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job                                count
-------------------------------  -------
all                                    1
concat_geolocation_rules               1
create_final_metadata                  1
curate                                 1
extract_ncbi_dataset_sequences         1
fetch_general_geolocation_rules        1
fetch_ncbi_dataset_package             1
format_ncbi_dataset_report             1
format_ncbi_datasets_ndjson            1
subset_metadata                        1
total                                 10

Select jobs to execute...

[Mon Jun  3 19:12:20 2024]
rule fetch_general_geolocation_rules:
    output: data/general-geolocation-rules.tsv
    jobid: 7
    reason: Missing output files: data/general-geolocation-rules.tsv
    resources: tmpdir=/tmp


[Mon Jun  3 19:12:20 2024]
rule fetch_ncbi_dataset_package:
    output: data/ncbi_dataset.zip
    jobid: 4
    benchmark: benchmarks/fetch_ncbi_dataset_package.txt
    reason: Missing output files: data/ncbi_dataset.zip
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:34 2024]
Finished job 4.
1 of 10 steps (10%) done
Select jobs to execute...

[Mon Jun  3 19:12:34 2024]
rule format_ncbi_dataset_report:
    input: data/ncbi_dataset.zip
    output: data/ncbi_dataset_report.tsv
    jobid: 5
    benchmark: benchmarks/format_ncbi_dataset_report.txt
    reason: Missing output files: data/ncbi_dataset_report.tsv; Input files updated by another job: data/ncbi_dataset.zip
    resources: tmpdir=/tmp


[Mon Jun  3 19:12:34 2024]
rule extract_ncbi_dataset_sequences:
    input: data/ncbi_dataset.zip
    output: data/ncbi_dataset_sequences.fasta
    jobid: 3
    benchmark: benchmarks/extract_ncbi_dataset_sequences.txt
    reason: Missing output files: data/ncbi_dataset_sequences.fasta; Input files updated by another job: data/ncbi_dataset.zip
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:35 2024]
Finished job 5.
2 of 10 steps (20%) done
[Mon Jun  3 19:12:36 2024]
Finished job 3.
3 of 10 steps (30%) done
Removing temporary output data/ncbi_dataset.zip.
Select jobs to execute...

[Mon Jun  3 19:12:36 2024]
rule format_ncbi_datasets_ndjson:
    input: data/ncbi_dataset_sequences.fasta, data/ncbi_dataset_report.tsv
    output: data/ncbi.ndjson
    log: logs/format_ncbi_datasets_ndjson.txt
    jobid: 2
    benchmark: benchmarks/format_ncbi_datasets_ndjson.txt
    reason: Missing output files: data/ncbi.ndjson; Input files updated by another job: data/ncbi_dataset_report.tsv, data/ncbi_dataset_sequences.fasta
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:45 2024]
Finished job 2.
4 of 10 steps (40%) done
Removing temporary output data/ncbi_dataset_sequences.fasta.
Removing temporary output data/ncbi_dataset_report.tsv.
[Mon Jun  3 19:12:53 2024]
Finished job 7.
5 of 10 steps (50%) done
Select jobs to execute...

[Mon Jun  3 19:12:53 2024]
rule concat_geolocation_rules:
    input: data/general-geolocation-rules.tsv, defaults/geolocation_rules.tsv
    output: data/all-geolocation-rules.tsv
    jobid: 6
    reason: Missing output files: data/all-geolocation-rules.tsv; Input files updated by another job: data/general-geolocation-rules.tsv
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:54 2024]
Finished job 6.
6 of 10 steps (60%) done
Select jobs to execute...

[Mon Jun  3 19:12:54 2024]
rule curate:
    input: data/ncbi.ndjson, data/all-geolocation-rules.tsv, defaults/annotations.tsv
    output: data/all_metadata.tsv, results/sequences.fasta
    log: logs/curate.txt
    jobid: 1
    benchmark: benchmarks/curate.txt
    reason: Missing output files: results/sequences.fasta, data/all_metadata.tsv; Input files updated by another job: data/ncbi.ndjson, data/all-geolocation-rules.tsv
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:59 2024]
Finished job 1.
7 of 10 steps (70%) done
Select jobs to execute...

[Mon Jun  3 19:12:59 2024]
rule subset_metadata:
    input: data/all_metadata.tsv
    output: data/subset_metadata.tsv
    jobid: 9
    reason: Missing output files: data/subset_metadata.tsv; Input files updated by another job: data/all_metadata.tsv
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:59 2024]
Finished job 9.
8 of 10 steps (80%) done
Select jobs to execute...

[Mon Jun  3 19:12:59 2024]
rule create_final_metadata:
    input: data/subset_metadata.tsv
    output: results/metadata.tsv
    jobid: 8
    reason: Missing output files: results/metadata.tsv; Input files updated by another job: data/subset_metadata.tsv
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:59 2024]
Finished job 8.
9 of 10 steps (90%) done
Select jobs to execute...

[Mon Jun  3 19:12:59 2024]
localrule all:
    input: results/sequences.fasta, results/metadata.tsv
    jobid: 0
    reason: Input files updated by another job: results/sequences.fasta, results/metadata.tsv
    resources: tmpdir=/tmp

[Mon Jun  3 19:12:59 2024]
Finished job 0.
10 of 10 steps (100%) done
Complete log: .snakemake/log/2024-06-03T191219.863910.snakemake.log
