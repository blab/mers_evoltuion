Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job stats:
job          count
---------  -------
align            1
all              1
ancestral        1
export           1
filter           1
refine           1
traits           1
translate        1
tree             1
total            9

Select jobs to execute...

[Mon Jun 10 22:21:03 2024]
rule filter:
    input: ../ingest/results/sequences.fasta, results/metadata.tsv, defaults/dropped_strains.txt
    output: results/filtered.fasta
    jobid: 5
    reason: Updated input files: defaults/dropped_strains.txt
    resources: tmpdir=/tmp

[Mon Jun 10 22:21:16 2024]
Finished job 5.
1 of 9 steps (11%) done
Select jobs to execute...

[Mon Jun 10 22:21:16 2024]
rule align:
    input: results/filtered.fasta, defaults/mers_reference.fasta, defaults/mers_genemap.gff
    output: results/aligned.fasta, results/insertions.tsv
    jobid: 4
    reason: Input files updated by another job: results/filtered.fasta
    resources: tmpdir=/tmp

[Mon Jun 10 22:21:16 2024]
Error in rule align:
    jobid: 4
    input: results/filtered.fasta, defaults/mers_reference.fasta, defaults/mers_genemap.gff
    output: results/aligned.fasta, results/insertions.tsv
    shell:
        
          nextclade run               --input-ref defaults/mers_reference.fasta               --input-annotation defaults/mers_genemap.gff               --output-fasta -               --output-tsv results/insertions.tsv               results/filtered.fasta           | seqkit seq -i > results/aligned.fasta         
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job align since they might be corrupted:
results/aligned.fasta
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-06-10T222102.811727.snakemake.log
